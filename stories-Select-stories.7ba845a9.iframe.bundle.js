"use strict";(self.webpackChunkagroptima_design_system=self.webpackChunkagroptima_design_system||[]).push([[2707],{"./src/stories/Select.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,PrimaryWithErrors:()=>PrimaryWithErrors,PrimaryWithSearch:()=>PrimaryWithSearch,PrimaryWithSelectedOptions:()=>PrimaryWithSelectedOptions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _atoms_Select__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/atoms/Select.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js");const figmaPrimaryDesign={design:{type:"figma",url:"https://www.figma.com/file/DN2ova21vWqCRvPspBXgI1/Design-System?type=design&node-id=188-1956&mode=dev"}},__WEBPACK_DEFAULT_EXPORT__={title:"Design System/Atoms/Select",component:_atoms_Select__WEBPACK_IMPORTED_MODULE_0__.l,parameters:{docs:{description:{component:"<h2>Usage guidelines</h2><p>Use the select component inside a form where users are selecting from a list of options and submitting data.</p><ul><li>Include a label</li><li>Keep menu items concise</li><li>Mark the minority of pickers in a form as required or optional</li><li>Use help text to show context</li><li>Switch help text with error text</li><li>Write error text that shows a solution</li></ul>"}}},tags:["autodocs"],argTypes:{label:{description:"Label for the select"},accessibilityLabel:{description:"Describes the select purpose. If empty, label content will be used"},variant:{description:"Select variant used"},disabled:{description:"Is the select in disabled state?"},invalid:{description:"Is the select in disabled state?"},helpText:{description:"Optional help text"},name:{description:"Set name property"},placeholder:{description:"Set select placeholder text"},options:{description:"Array of values to be displayed on the select list"},defaultValue:{description:"Value to be displayed as selected"},errors:{description:"Optional array of errors. If passed, the errors are listed and invalid style is applied."},isSearchable:{description:"Select component with search option"},searchLabel:{description:"Label for the search "}}},Primary={args:{variant:"primary",disabled:!1,helpText:"This text can help you",name:"example",label:"Videogames",accessibilityLabel:"Select your favourite gaming system options",hideLabel:!1,isSearchable:!1,placeholder:"Select your favourite gaming system...",options:[{id:"1",label:"Nintendo Switch"},{id:"2",label:"PlayStation 5"},{id:"3",label:"Xbox Series S/X"},{id:"4",label:"PC"},{id:"5",label:"Mobile"},{id:"6",label:"PlayStation 4"},{id:"7",label:"Xbox One"},{id:"8",label:"PlayStation 3"},{id:"9",label:"Xbox 360"},{id:"10",label:"PlayStation 2"},{id:"11",label:"Xbox"},{id:"12",label:"PlayStation"},{id:"13",label:"Nintendo 64"},{id:"14",label:"Super Nintendo"},{id:"15",label:"Sega Genesis"},{id:"16",label:"Sega Saturn"},{id:"17",label:"Sega Dreamcast"},{id:"18",label:"Atari 2600"}],id:"select-videogames",onChange:optionId=>console.log("onChange optionId:",optionId),required:!0},parameters:figmaPrimaryDesign},PrimaryWithSelectedOptions={args:{variant:"primary",disabled:!1,helpText:"This text can help you",name:"example",label:"Videogames",hideLabel:!1,placeholder:"Select your favourite gaming system...",isSearchable:!1,options:[{id:"1",label:"Nintendo Switch"},{id:"2",label:"PlayStation 5"},{id:"3",label:"Xbox Series S/X"}],defaultValue:"2",id:"select-videogames"},parameters:figmaPrimaryDesign},PrimaryWithErrors={args:{variant:"primary",disabled:!1,helpText:"This text can help you",name:"example",label:"Videogames",accessibilityLabel:"Select your favourite gaming system options",hideLabel:!1,placeholder:"Select your favourite gaming system...",isSearchable:!1,options:[{id:"1",label:"Nintendo Switch"},{id:"2",label:"PlayStation 5"},{id:"3",label:"Xbox Series S/X"}],id:"select-videogames",errors:["error1","error2"],onChange:optionId=>console.log("onChange optionId:",optionId)},parameters:figmaPrimaryDesign},PrimaryWithSearch={args:{variant:"primary",disabled:!1,helpText:"This text can help you",name:"example",label:"Videogames",accessibilityLabel:"Select your favourite gaming system options",hideLabel:!1,placeholder:"Select your favourite gaming system...",options:[{id:"1",label:"Nintendo Switch"},{id:"2",label:"PlayStation 5"},{id:"3",label:"Xbox Series S/X"},{id:"4",label:"PC"},{id:"5",label:"Mobile"},{id:"6",label:"PlayStation 4"},{id:"7",label:"Xbox One"},{id:"8",label:"PlayStation 3"},{id:"9",label:"Xbox 360"},{id:"10",label:"PlayStation 2"},{id:"11",label:"Xbox"},{id:"12",label:"PlayStation"},{id:"13",label:"Nintendo 64"},{id:"14",label:"Super Nintendo"},{id:"15",label:"Sega Genesis"},{id:"16",label:"Sega Saturn"},{id:"17",label:"Sega Dreamcast"},{id:"18",label:"Atari 2600"}],id:"select-videogames",onChange:optionId=>console.log("onChange optionId:",optionId),isSearchable:!0,searchLabel:"Search"},parameters:figmaPrimaryDesign},__namedExportsOrder=["Primary","PrimaryWithSelectedOptions","PrimaryWithErrors","PrimaryWithSearch"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    helpText: 'This text can help you',\n    name: 'example',\n    label: 'Videogames',\n    accessibilityLabel: 'Select your favourite gaming system options',\n    hideLabel: false,\n    isSearchable: false,\n    placeholder: 'Select your favourite gaming system...',\n    options: [{\n      id: '1',\n      label: 'Nintendo Switch'\n    }, {\n      id: '2',\n      label: 'PlayStation 5'\n    }, {\n      id: '3',\n      label: 'Xbox Series S/X'\n    }, {\n      id: '4',\n      label: 'PC'\n    }, {\n      id: '5',\n      label: 'Mobile'\n    }, {\n      id: '6',\n      label: 'PlayStation 4'\n    }, {\n      id: '7',\n      label: 'Xbox One'\n    }, {\n      id: '8',\n      label: 'PlayStation 3'\n    }, {\n      id: '9',\n      label: 'Xbox 360'\n    }, {\n      id: '10',\n      label: 'PlayStation 2'\n    }, {\n      id: '11',\n      label: 'Xbox'\n    }, {\n      id: '12',\n      label: 'PlayStation'\n    }, {\n      id: '13',\n      label: 'Nintendo 64'\n    }, {\n      id: '14',\n      label: 'Super Nintendo'\n    }, {\n      id: '15',\n      label: 'Sega Genesis'\n    }, {\n      id: '16',\n      label: 'Sega Saturn'\n    }, {\n      id: '17',\n      label: 'Sega Dreamcast'\n    }, {\n      id: '18',\n      label: 'Atari 2600'\n    }],\n    id: 'select-videogames',\n    onChange: optionId => console.log('onChange optionId:', optionId),\n    required: true\n  },\n  parameters: figmaPrimaryDesign\n}",...Primary.parameters?.docs?.source}}},PrimaryWithSelectedOptions.parameters={...PrimaryWithSelectedOptions.parameters,docs:{...PrimaryWithSelectedOptions.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    helpText: 'This text can help you',\n    name: 'example',\n    label: 'Videogames',\n    hideLabel: false,\n    placeholder: 'Select your favourite gaming system...',\n    isSearchable: false,\n    options: [{\n      id: '1',\n      label: 'Nintendo Switch'\n    }, {\n      id: '2',\n      label: 'PlayStation 5'\n    }, {\n      id: '3',\n      label: 'Xbox Series S/X'\n    }],\n    defaultValue: '2',\n    id: 'select-videogames'\n  },\n  parameters: figmaPrimaryDesign\n}",...PrimaryWithSelectedOptions.parameters?.docs?.source}}},PrimaryWithErrors.parameters={...PrimaryWithErrors.parameters,docs:{...PrimaryWithErrors.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    helpText: 'This text can help you',\n    name: 'example',\n    label: 'Videogames',\n    accessibilityLabel: 'Select your favourite gaming system options',\n    hideLabel: false,\n    placeholder: 'Select your favourite gaming system...',\n    isSearchable: false,\n    options: [{\n      id: '1',\n      label: 'Nintendo Switch'\n    }, {\n      id: '2',\n      label: 'PlayStation 5'\n    }, {\n      id: '3',\n      label: 'Xbox Series S/X'\n    }],\n    id: 'select-videogames',\n    errors: ['error1', 'error2'],\n    onChange: optionId => console.log('onChange optionId:', optionId)\n  },\n  parameters: figmaPrimaryDesign\n}",...PrimaryWithErrors.parameters?.docs?.source}}},PrimaryWithSearch.parameters={...PrimaryWithSearch.parameters,docs:{...PrimaryWithSearch.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    helpText: 'This text can help you',\n    name: 'example',\n    label: 'Videogames',\n    accessibilityLabel: 'Select your favourite gaming system options',\n    hideLabel: false,\n    placeholder: 'Select your favourite gaming system...',\n    options: [{\n      id: '1',\n      label: 'Nintendo Switch'\n    }, {\n      id: '2',\n      label: 'PlayStation 5'\n    }, {\n      id: '3',\n      label: 'Xbox Series S/X'\n    }, {\n      id: '4',\n      label: 'PC'\n    }, {\n      id: '5',\n      label: 'Mobile'\n    }, {\n      id: '6',\n      label: 'PlayStation 4'\n    }, {\n      id: '7',\n      label: 'Xbox One'\n    }, {\n      id: '8',\n      label: 'PlayStation 3'\n    }, {\n      id: '9',\n      label: 'Xbox 360'\n    }, {\n      id: '10',\n      label: 'PlayStation 2'\n    }, {\n      id: '11',\n      label: 'Xbox'\n    }, {\n      id: '12',\n      label: 'PlayStation'\n    }, {\n      id: '13',\n      label: 'Nintendo 64'\n    }, {\n      id: '14',\n      label: 'Super Nintendo'\n    }, {\n      id: '15',\n      label: 'Sega Genesis'\n    }, {\n      id: '16',\n      label: 'Sega Saturn'\n    }, {\n      id: '17',\n      label: 'Sega Dreamcast'\n    }, {\n      id: '18',\n      label: 'Atari 2600'\n    }],\n    id: 'select-videogames',\n    onChange: optionId => console.log('onChange optionId:', optionId),\n    isSearchable: true,\n    searchLabel: 'Search'\n  },\n  parameters: figmaPrimaryDesign\n}",...PrimaryWithSearch.parameters?.docs?.source}}}},"./src/atoms/Select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>Select});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./src/atoms/Select.scss"),__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_hooks_useOpen__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useOpen.ts"),_hooks_useOutsideClick__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useOutsideClick.ts"),_hooks_useSearch__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/hooks/useSearch.ts"),_utils_buildHelpText__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/utils/buildHelpText.ts"),_utils_classNames__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/utils/classNames.ts"),_Button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/atoms/Button/index.ts"),_Icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/atoms/Icon.tsx"),_Input__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/atoms/Input.tsx");const EMPTY_OPTION={id:"",label:""};function Select({className,placeholder,helpText,variant="primary",disabled,errors,name,options,label,accessibilityLabel,hideLabel=!1,onChange=()=>{},defaultValue,required=!1,isSearchable=!1,searchLabel="Search",...props}){const helpTexts=(0,_utils_buildHelpText__WEBPACK_IMPORTED_MODULE_9__.N)(helpText,errors),{isOpen,close,toggle}=(0,_hooks_useOpen__WEBPACK_IMPORTED_MODULE_3__.i)(),defaultOption=options.find((option=>option.id===defaultValue))||EMPTY_OPTION,[selectedOption,setSelectedOption]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(defaultOption),isEmpty=selectedOption.id===EMPTY_OPTION.id,selectRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);(0,_hooks_useOutsideClick__WEBPACK_IMPORTED_MODULE_4__.j)(selectRef,close);const cssClasses=(0,_utils_classNames__WEBPACK_IMPORTED_MODULE_10__.x)("selected-option",{open:isOpen,filled:selectedOption.id,disabled,invalid:null==errors?void 0:errors.length});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_utils_classNames__WEBPACK_IMPORTED_MODULE_10__.x)("select-group",variant,className),children:[!hideLabel&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:(0,_utils_classNames__WEBPACK_IMPORTED_MODULE_10__.x)("select-label",{"is-required":required}),children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"select-container",ref:selectRef,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:cssClasses,tabIndex:0,onClick:function handleOptionsList(){disabled||toggle()},"aria-label":accessibilityLabel||label,"aria-live":"assertive",role:"alert",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:selectedOption.label||placeholder}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Icon__WEBPACK_IMPORTED_MODULE_7__.I,{name:isOpen?"AngleUp":"AngleDown",visible:isEmpty}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_6__.K0,{icon:"Close",className:"clear-button",accessibilityLabel:"close",onClick:function handleClear(event){event.stopPropagation(),setSelectedOption(EMPTY_OPTION),onChange("")},visible:!isEmpty})]}),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(OptionList,{options,selectedOption,selectOption:function selectOption(option){setSelectedOption(option),onChange(option.id)},onClick:close,isSearchable,searchLabel})]}),helpTexts.map((helpText=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"select-help-text",children:helpText},`${name}-${helpText}`))),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"hidden",name,value:selectedOption.id,required,...props})]})}function OptionList({options,selectedOption,selectOption,onClick,isSearchable,searchLabel}){const{findItems,search}=(0,_hooks_useSearch__WEBPACK_IMPORTED_MODULE_5__.S)(options,"label");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"select-options",children:[isSearchable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Input__WEBPACK_IMPORTED_MODULE_8__.p,{autoFocus:!0,label:searchLabel,hideLabel:!0,onChange:e=>search(e.target.value),placeholder:searchLabel,icon:"Search",className:"search"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul",{role:"listbox",onClick,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Option,{options:findItems,selectedOption,selectOption})})]})}function Option({options,selectedOption,selectOption}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:options.map((option=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:"option",tabIndex:0,role:"option","aria-selected":selectedOption.id===option.id,"data-option":option,onClick:()=>selectOption(option),children:option.label},option.id)))})}try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},helpText:{defaultValue:null,description:"",name:"helpText",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"primary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'}]}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"Option[]"}},errors:{defaultValue:null,description:"",name:"errors",required:!1,type:{name:"string[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},accessibilityLabel:{defaultValue:null,description:"",name:"accessibilityLabel",required:!1,type:{name:"string"}},hideLabel:{defaultValue:{value:"false"},description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},isSearchable:{defaultValue:{value:"false"},description:"",name:"isSearchable",required:!1,type:{name:"boolean"}},searchLabel:{defaultValue:{value:"Search"},description:"",name:"searchLabel",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/atoms/Select.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"src/atoms/Select.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}}}]);