"use strict";(self.webpackChunkagroptima_design_system=self.webpackChunkagroptima_design_system||[]).push([[638],{"./src/stories/Multiselect.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,PrimaryWithErrors:()=>PrimaryWithErrors,PrimaryWithSearch:()=>PrimaryWithSearch,PrimaryWithSelectedOptions:()=>PrimaryWithSelectedOptions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Multiselect_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=(__webpack_require__("./src/atoms/Select.scss"),__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),Icon=__webpack_require__("./src/atoms/Icon.tsx"),Button=__webpack_require__("./src/atoms/Button/index.ts"),classNames=__webpack_require__("./src/utils/classNames.ts"),buildHelpText=__webpack_require__("./src/utils/buildHelpText.ts"),useOutsideClick=__webpack_require__("./src/hooks/useOutsideClick.ts"),useOpen=__webpack_require__("./src/hooks/useOpen.ts"),Input=__webpack_require__("./src/atoms/Input.tsx"),useSearch=__webpack_require__("./src/hooks/useSearch.ts");function Multiselect({className,placeholder,helpText,disabled,errors,name,options,label,accessibilityLabel,onChange=()=>{},variant="primary",selectedLabel="items selected",hideLabel=!1,defaultValue=[],isSearchable=!1,searchLabel="Search",...props}){const helpTexts=(0,buildHelpText.N)(helpText,errors),{isOpen,close,toggle}=(0,useOpen.i)(),selectRef=(0,react.useRef)(null);(0,useOutsideClick.j)(selectRef,close);const[selectedOptions,setSelectedOptions]=(0,react.useState)(defaultValue),hasSelectedOptions=selectedOptions.length>0,cssClasses=(0,classNames.x)("selected-option",className,{open:isOpen,filled:hasSelectedOptions,disabled,invalid:null==errors?void 0:errors.length});return(0,jsx_runtime.jsxs)("div",{className:`select-group ${variant}`,children:[!hideLabel&&(0,jsx_runtime.jsx)("span",{className:"select-label",children:label}),(0,jsx_runtime.jsxs)("div",{className:"select-container",ref:selectRef,children:[(0,jsx_runtime.jsxs)("div",{className:cssClasses,tabIndex:0,onClick:function handleOptionsList(){disabled||toggle()},"aria-label":accessibilityLabel||label,"aria-live":"assertive",role:"alert",children:[(0,jsx_runtime.jsx)("span",{children:hasSelectedOptions?`${selectedOptions.length} ${selectedLabel}`:placeholder}),(0,jsx_runtime.jsx)(Icon.I,{name:isOpen?"AngleUp":"AngleDown",visible:!hasSelectedOptions}),(0,jsx_runtime.jsx)(Button.K0,{icon:"Close",className:"clear-button",accessibilityLabel:"close",onClick:function handleClear(event){event.stopPropagation(),setSelectedOptions([]),onChange([])},visible:hasSelectedOptions})]}),(0,jsx_runtime.jsx)(OptionList,{isOpen,options,selectedOptions,onSelect:function selectOption(id){const options=selectedOptions.includes(id)?selectedOptions.filter((optionId=>optionId!==id)):[...selectedOptions,id];setSelectedOptions(options),onChange(options)},isSearchable,searchLabel})]}),helpTexts.map((helpText=>(0,jsx_runtime.jsx)("span",{className:"select-help-text",children:helpText},`${name}-${helpText}`))),(0,jsx_runtime.jsx)("input",{type:"hidden",name,value:selectedOptions.toString(),...props})]})}function OptionList({options,selectedOptions,onSelect,isSearchable,searchLabel,isOpen}){const{findItems,search}=(0,useSearch.S)(options,"label");return isOpen?(0,jsx_runtime.jsxs)("div",{className:"select-options",children:[isSearchable&&(0,jsx_runtime.jsx)(Input.p,{label:searchLabel,hideLabel:!0,onChange:e=>search(e.target.value),placeholder:searchLabel,icon:"Search",className:"search"}),(0,jsx_runtime.jsx)("ul",{role:"listbox",children:(0,jsx_runtime.jsx)(Option,{options:findItems,selectedOptions,onSelect})})]}):null}function Option({options,onSelect,selectedOptions}){function isSelected(id){return selectedOptions.includes(id)}return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:options.map((option=>{return(0,jsx_runtime.jsxs)("li",{role:"option",className:"option",tabIndex:0,"aria-selected":isSelected(option.id),"data-option":option,onClick:()=>onSelect(option.id),children:[(0,jsx_runtime.jsx)(Icon.I,{name:(id=option.id,isSelected(id)?"CheckboxActive":"CheckboxInactive")}),option.label]},option.id);var id}))})}try{Multiselect.displayName="Multiselect",Multiselect.__docgenInfo={description:"",displayName:"Multiselect",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},helpText:{defaultValue:null,description:"",name:"helpText",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"primary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'}]}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"Option[]"}},errors:{defaultValue:null,description:"",name:"errors",required:!1,type:{name:"string[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},accessibilityLabel:{defaultValue:null,description:"",name:"accessibilityLabel",required:!1,type:{name:"string"}},selectedLabel:{defaultValue:{value:"items selected"},description:"",name:"selectedLabel",required:!1,type:{name:"string"}},hideLabel:{defaultValue:{value:"false"},description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:{value:"[]"},description:"",name:"defaultValue",required:!1,type:{name:"string[]"}},onChange:{defaultValue:{value:"() => {}"},description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}},isSearchable:{defaultValue:{value:"false"},description:"",name:"isSearchable",required:!1,type:{name:"boolean"}},searchLabel:{defaultValue:{value:"Search"},description:"",name:"searchLabel",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/atoms/Multiselect.tsx#Multiselect"]={docgenInfo:Multiselect.__docgenInfo,name:"Multiselect",path:"src/atoms/Multiselect.tsx#Multiselect"})}catch(__react_docgen_typescript_loader_error){}const figmaPrimaryDesign={design:{type:"figma",url:"https://www.figma.com/file/DN2ova21vWqCRvPspBXgI1/Design-System?type=design&node-id=454-1657&mode=dev"}},Multiselect_stories={title:"Design System/Atoms/Multiselect",component:Multiselect,tags:["autodocs"],argTypes:{label:{description:"Label for the select"},accessibilityLabel:{description:"Describes the select purpose. If empty, label content will be used"},selectedLabel:{description:"Label used when having selected values"},variant:{description:"Select variant used"},disabled:{description:"Is the select in disabled state?"},helpText:{description:"Optional help text"},name:{description:"Set name property"},placeholder:{description:"Set select placeholder text"},options:{description:"Array of values to be displayed on the select list"},defaultValue:{description:"Array of ids to be displayed as selected"},errors:{description:"Optional array of errors. If passed, the errors are listed and invalid style is applied."},isSearchable:{description:"Select component with search option"},searchLabel:{description:"Label for the search "}}},Primary={args:{variant:"primary",disabled:!1,hideLabel:!1,helpText:"This text can help you",name:"videogames",label:"Videogames",accessibilityLabel:"Select your favourite videogames options",selectedLabel:"videogames selected",placeholder:"Select your favourite videogames...",isSearchable:!1,options:[{id:"1",label:"The Legend of Zelda: Ocarina of Time"},{id:"2",label:"Spyro the Dragon"},{id:"3",label:"Halo"},{id:"4",label:"Tetris"},{id:"5",label:"Super Mario Bros"},{id:"6",label:"Red Dead Redemption"}]},parameters:figmaPrimaryDesign},PrimaryWithSelectedOptions={args:{variant:"primary",disabled:!1,hideLabel:!1,helpText:"This text can help you",name:"videogames",label:"Videogames",selectedLabel:"videogames selected",placeholder:"Select your favourite videogames...",isSearchable:!1,options:[{id:"1",label:"The Legend of Zelda: Ocarina of Time"},{id:"2",label:"Spyro the Dragon"},{id:"3",label:"Halo"},{id:"4",label:"Tetris"},{id:"5",label:"Super Mario Bros"},{id:"6",label:"Red Dead Redemption"}],defaultValue:["2","1"]},parameters:figmaPrimaryDesign},PrimaryWithErrors={args:{variant:"primary",disabled:!1,hideLabel:!1,helpText:"This text can help you",name:"videogames",label:"Videogames",accessibilityLabel:"Select your favourite videogames options",selectedLabel:"videogames selected",placeholder:"Select your favourite videogames...",isSearchable:!1,options:[{id:"1",label:"The Legend of Zelda: Ocarina of Time"},{id:"2",label:"Spyro the Dragon"},{id:"3",label:"Halo"},{id:"4",label:"Tetris"},{id:"5",label:"Super Mario Bros"},{id:"6",label:"Red Dead Redemption"}],errors:["error1","error2"]},parameters:figmaPrimaryDesign},PrimaryWithSearch={args:{variant:"primary",disabled:!1,hideLabel:!1,helpText:"This text can help you",name:"videogames",label:"Videogames",accessibilityLabel:"Select your favourite videogames options",selectedLabel:"videogames selected",placeholder:"Select your favourite videogames...",options:[{id:"1",label:"The Legend of Zelda: Ocarina of Time"},{id:"2",label:"Spyro the Dragon"},{id:"3",label:"Halo"},{id:"4",label:"Tetris"},{id:"5",label:"Super Mario Bros"},{id:"6",label:"Red Dead Redemption"}],isSearchable:!0,searchLabel:"Search"},parameters:figmaPrimaryDesign},__namedExportsOrder=["Primary","PrimaryWithSelectedOptions","PrimaryWithErrors","PrimaryWithSearch"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    hideLabel: false,\n    helpText: 'This text can help you',\n    name: 'videogames',\n    label: 'Videogames',\n    accessibilityLabel: 'Select your favourite videogames options',\n    selectedLabel: 'videogames selected',\n    placeholder: 'Select your favourite videogames...',\n    isSearchable: false,\n    options: [{\n      id: '1',\n      label: 'The Legend of Zelda: Ocarina of Time'\n    }, {\n      id: '2',\n      label: 'Spyro the Dragon'\n    }, {\n      id: '3',\n      label: 'Halo'\n    }, {\n      id: '4',\n      label: 'Tetris'\n    }, {\n      id: '5',\n      label: 'Super Mario Bros'\n    }, {\n      id: '6',\n      label: 'Red Dead Redemption'\n    }]\n  },\n  parameters: figmaPrimaryDesign\n}",...Primary.parameters?.docs?.source}}},PrimaryWithSelectedOptions.parameters={...PrimaryWithSelectedOptions.parameters,docs:{...PrimaryWithSelectedOptions.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    hideLabel: false,\n    helpText: 'This text can help you',\n    name: 'videogames',\n    label: 'Videogames',\n    selectedLabel: 'videogames selected',\n    placeholder: 'Select your favourite videogames...',\n    isSearchable: false,\n    options: [{\n      id: '1',\n      label: 'The Legend of Zelda: Ocarina of Time'\n    }, {\n      id: '2',\n      label: 'Spyro the Dragon'\n    }, {\n      id: '3',\n      label: 'Halo'\n    }, {\n      id: '4',\n      label: 'Tetris'\n    }, {\n      id: '5',\n      label: 'Super Mario Bros'\n    }, {\n      id: '6',\n      label: 'Red Dead Redemption'\n    }],\n    defaultValue: ['2', '1']\n  },\n  parameters: figmaPrimaryDesign\n}",...PrimaryWithSelectedOptions.parameters?.docs?.source}}},PrimaryWithErrors.parameters={...PrimaryWithErrors.parameters,docs:{...PrimaryWithErrors.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    hideLabel: false,\n    helpText: 'This text can help you',\n    name: 'videogames',\n    label: 'Videogames',\n    accessibilityLabel: 'Select your favourite videogames options',\n    selectedLabel: 'videogames selected',\n    placeholder: 'Select your favourite videogames...',\n    isSearchable: false,\n    options: [{\n      id: '1',\n      label: 'The Legend of Zelda: Ocarina of Time'\n    }, {\n      id: '2',\n      label: 'Spyro the Dragon'\n    }, {\n      id: '3',\n      label: 'Halo'\n    }, {\n      id: '4',\n      label: 'Tetris'\n    }, {\n      id: '5',\n      label: 'Super Mario Bros'\n    }, {\n      id: '6',\n      label: 'Red Dead Redemption'\n    }],\n    errors: ['error1', 'error2']\n  },\n  parameters: figmaPrimaryDesign\n}",...PrimaryWithErrors.parameters?.docs?.source}}},PrimaryWithSearch.parameters={...PrimaryWithSearch.parameters,docs:{...PrimaryWithSearch.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'primary',\n    disabled: false,\n    hideLabel: false,\n    helpText: 'This text can help you',\n    name: 'videogames',\n    label: 'Videogames',\n    accessibilityLabel: 'Select your favourite videogames options',\n    selectedLabel: 'videogames selected',\n    placeholder: 'Select your favourite videogames...',\n    options: [{\n      id: '1',\n      label: 'The Legend of Zelda: Ocarina of Time'\n    }, {\n      id: '2',\n      label: 'Spyro the Dragon'\n    }, {\n      id: '3',\n      label: 'Halo'\n    }, {\n      id: '4',\n      label: 'Tetris'\n    }, {\n      id: '5',\n      label: 'Super Mario Bros'\n    }, {\n      id: '6',\n      label: 'Red Dead Redemption'\n    }],\n    isSearchable: true,\n    searchLabel: 'Search'\n  },\n  parameters: figmaPrimaryDesign\n}",...PrimaryWithSearch.parameters?.docs?.source}}}}}]);